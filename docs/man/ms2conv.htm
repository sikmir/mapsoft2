<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>ms2conv</title>
<link rel="stylesheet" href="manpages.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#USAGE">USAGE</a></li>
  <li><a href="#GENERAL-OPTIONS">GENERAL OPTIONS</a></li>
  <li><a href="#READING-AND-WRITING-GEODATA">READING AND WRITING GEODATA</a></li>
  <li><a href="#RENDERING-IMAGES">RENDERING IMAGES</a>
    <ul>
      <li><a href="#Options-for-saving-images">Options for saving images</a></li>
      <li><a href="#Setting-up-map-reference-for-images">Setting up map reference for images</a></li>
      <li><a href="#Options-for-drawing-tracks">Options for drawing tracks:</a></li>
      <li><a href="#Options-for-drawing-waypoints">Options for drawing waypoints:</a></li>
      <li><a href="#Options-for-drawing-maps">Options for drawing maps:</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>ms2conv -- mapsoft2 converter for geodata and raster maps</p>

<h1 id="USAGE">USAGE</h1>

<pre><code>        ms2conv &lt;options&gt; &lt;input files&gt; -o &lt;output file&gt;</code></pre>

<h1 id="GENERAL-OPTIONS">GENERAL OPTIONS</h1>

<dl>

<dt id="h---help"><b>-h, --help</b></dt>
<dd>

<p>Show help message.</p>

</dd>
<dt id="pod"><b>--pod</b></dt>
<dd>

<p>Show help message as POD template.</p>

</dd>
<dt id="v---verbose"><b>-v, --verbose</b></dt>
<dd>

<p>Be verbose.</p>

</dd>
</dl>

<dl>

<dt id="o---out-arg"><b>-o, --out &lt;arg&gt;</b></dt>
<dd>

<p>output file</p>

</dd>
</dl>

<h1 id="READING-AND-WRITING-GEODATA">READING AND WRITING GEODATA</h1>

<dl>

<dt id="in_fmt-arg"><b>--in_fmt &lt;arg&gt;</b></dt>
<dd>

<p>Geodata input format (json, gu, gpx, kml, kmz, ozi, zip). By default format is determined by file extension.</p>

</dd>
<dt id="out_fmt-arg"><b>--out_fmt &lt;arg&gt;</b></dt>
<dd>

<p>Geodata output format (json, gu, gpx, kml, kmz, ozi, zip). By default format is determined by file extension.</p>

</dd>
<dt id="gu_enc-arg"><b>--gu_enc &lt;arg&gt;</b></dt>
<dd>

<p>Garmin Utils format charset (default KOI8-R).</p>

</dd>
<dt id="ozi_enc-arg"><b>--ozi_enc &lt;arg&gt;</b></dt>
<dd>

<p>OziExplorer format charset (default Windows-1251).</p>

</dd>
<dt id="xml_compr-arg"><b>--xml_compr &lt;arg&gt;</b></dt>
<dd>

<p>Compress xml output (GPX and KML formats), default 0.</p>

</dd>
<dt id="xml_indent-arg"><b>--xml_indent &lt;arg&gt;</b></dt>
<dd>

<p>Use XML indentation (GPX and KML formats), default 1.</p>

</dd>
<dt id="xml_ind_str-arg"><b>--xml_ind_str &lt;arg&gt;</b></dt>
<dd>

<p>XML indentation string (GPX and KML formats), default &#39; &#39;.</p>

</dd>
<dt id="xml_qchar-arg"><b>--xml_qchar &lt;arg&gt;</b></dt>
<dd>

<p>XML quoting character (GPX and KML formats), default &#39;&#39;&#39;.</p>

</dd>
<dt id="gpx_write_rte-arg"><b>--gpx_write_rte &lt;arg&gt;</b></dt>
<dd>

<p>Write waypoint lists as routes (GPX format), default 0.</p>

</dd>
<dt id="json_sort_keys-arg"><b>--json_sort_keys &lt;arg&gt;</b></dt>
<dd>

<p>Sort json objects by keys (GeoJSON format), default 1.</p>

</dd>
<dt id="json_compact-arg"><b>--json_compact &lt;arg&gt;</b></dt>
<dd>

<p>Write compact json (GeoJSON format), default 0.</p>

</dd>
<dt id="json_indent-arg"><b>--json_indent &lt;arg&gt;</b></dt>
<dd>

<p>Use json indentation (GeoJSON format), default 1.</p>

</dd>
<dt id="geo_skip_zt-arg"><b>--geo_skip_zt &lt;arg&gt;</b></dt>
<dd>

<p>Skip altitude and time information when writing GeoJSON, default 0.</p>

</dd>
<dt id="ozi_map_grid-arg"><b>--ozi_map_grid &lt;arg&gt;</b></dt>
<dd>

<p>Write map reference points in grid coordinates (OziExplorer format), default 0.</p>

</dd>
<dt id="ozi_map_wgs-arg"><b>--ozi_map_wgs &lt;arg&gt;</b></dt>
<dd>

<p>Always use wgs84 datum for map coordinates (OziExplorer format), default 0. By default map coordinates are written in map datum if it is supported.</p>

</dd>
</dl>

<h1 id="RENDERING-IMAGES">RENDERING IMAGES</h1>

<p><b>ms2conv</b> can produce images with raster maps, tracks and waypoints. Supported formats: <b>jpeg, png, gif, tiff, ps, pdf, svg</b>. Format is selected by output file extension or by <b>--out_fmt</b> option. Option <b>--map</b> can be used to save map reference for the image (at the moment only OziExplorer map format is supported).</p>

<h2 id="Options-for-saving-images">Options for saving images</h2>

<dl>

<dt id="tiff_format-arg"><b>--tiff_format &lt;arg&gt;</b></dt>
<dd>

<p>When writing tiff, convert image to one of following forms: argb, rgb, grey, pal (default depends on the image).</p>

</dd>
<dt id="tiff_minwhite-arg"><b>--tiff_minwhite &lt;arg&gt;</b></dt>
<dd>

<p>When writing greyscale tiff, invert colors (dafault: 0).</p>

</dd>
<dt id="jpeg_quality-arg"><b>--jpeg_quality &lt;arg&gt;</b></dt>
<dd>

<p>Set jpeg quality (default 95).</p>

</dd>
<dt id="png_format-arg"><b>--png_format &lt;arg&gt;</b></dt>
<dd>

<p>When writing png, convert image to one of following forms: argb, rgb, grey, agrey, pal (default depends on the image).</p>

</dd>
<dt id="cmap_colors-arg"><b>--cmap_colors &lt;arg&gt;</b></dt>
<dd>

<p>Colormap size for reducing image colors (2..256, default 256). Image colors are reduced when saving to GIF, to PNG with <b>--png_format=pal</b>, to TIFF with <b>--tiff_format=pal</b></p>

</dd>
<dt id="cmap_alpha-arg"><b>--cmap_alpha &lt;arg&gt;</b></dt>
<dd>

<p>What to do with alpha channel. Values: <b>none</b> (default) -- remove it, <b>full</b> -- treat it equally with other channels, <b>gif</b> -- keep only one fully-transparent color if needed. When saving GIF file (which supports only fully transparent color) <b>full</b> works in the same way as <b>gif</b>.</p>

</dd>
<dt id="cmap_dim_method-arg"><b>--cmap_dim_method &lt;arg&gt;</b></dt>
<dd>

<p>Analog of pnmcolormap -spreadbrightness|-spreadluminosity. When a box in the color space is measured, color dimensions can be treated equally or with luminosity factors. Values: norm (default) or lumin.</p>

</dd>
<dt id="cmap_rep_method-arg"><b>--cmap_rep_method &lt;arg&gt;</b></dt>
<dd>

<p>Analog of pnmcolormap -center|-meanpixel|-meancolor. When a box in the color space is chosen, it can be represented by its geometrical center, or by averaging pixels or colors in it. Values: center, meanpix (default), meancol.</p>

</dd>
<dt id="cmap_split_method-arg"><b>--cmap_split_method &lt;arg&gt;</b></dt>
<dd>

<p>Analog of pnmcolormap -splitpix|-splitcol|-splitdim. How to choose a box in the color space for splitting: by its maximum dimension, maximum number of pixels or colors in it. Values: maxdim (default), maxpix, maxcol.</p>

</dd>
</dl>

<dl>

<dt id="bgcolor-arg"><b>--bgcolor &lt;arg&gt;</b></dt>
<dd>

<p>Image background color (default 0xFFFFFFFF).</p>

</dd>
<dt id="m---map-arg"><b>-m, --map &lt;arg&gt;</b></dt>
<dd>

<p>Write map file in OziExprorer format. See section <i>READING AND WRITING GEODATA</i> for options controlling OziExprorer map file saving.</p>

</dd>
</dl>

<h2 id="Setting-up-map-reference-for-images">Setting up map reference for images</h2>

<p>Map reference is set similarly in <code>ms2view</code>, <code>ms2conv</code>, and <code>ms2mkref</code> programs. If <b>--mkref</b> option exists then projection is created from options. If not then <code>ms2view</code> and <code>ms2conv</code> get projection of the first map to be shown or set to some default value. Following options can be used:</p>

<dl>

<dt id="mkref-type"><b>--mkref &lt;type&gt;</b></dt>
<dd>

<p>Choose map type. Possible values are: <b>nom</b> -- a Soviet nomenclature map, <b>proj</b> -- a rectangular area in some coordinates, <b>google_tile</b> and <b>tms_tile</b> -- a single google/TMS tile or rectangular area with multiple tiles.</p>

</dd>
<dt id="name-string"><b>--name &lt;string&gt;</b></dt>
<dd>

<p>Set map name.</p>

</dd>
<dt id="dpi-value"><b>--dpi &lt;value&gt;</b></dt>
<dd>

<p>Map resolution, pixels per inch (<b>nom</b> and <b>proj</b> maps)</p>

</dd>
<dt id="mag-value"><b>--mag &lt;value&gt;</b></dt>
<dd>

<p>Map magnification (<b>nom</b> maps).</p>

</dd>
<dt id="margins-value"><b>--margins &lt;value&gt;</b></dt>
<dd>

<p>Map margins, pixels (<b>nom</b> and <b>proj</b> maps).</p>

</dd>
<dt id="top_margin-value"><b>--top_margin &lt;value&gt;</b></dt>
<dd>

</dd>
<dt id="left_margin-value"><b>--left_margin &lt;value&gt;</b></dt>
<dd>

</dd>
<dt id="right_margin-value"><b>--right_margin &lt;value&gt;</b></dt>
<dd>

</dd>
<dt id="bottom_margin-value"><b>--bottom_margin &lt;value&gt;</b></dt>
<dd>

<p>Override top/left/right/bottom margin values (<b>nom</b> and <b>proj</b> maps).</p>

</dd>
<dt id="zindex-value"><b>--zindex &lt;value&gt;</b></dt>
<dd>

<p>Tile zindex (<b>google_tile</b> and <b>tms_tile</b> maps).</p>

</dd>
<dt id="tiles-value"><b>--tiles &lt;value&gt;</b></dt>
<dd>

<p>Tile or tile range (<b>google_tile</b> and <b>tms_tile</b> maps)</p>

</dd>
<dt id="coords-value"><b>--coords &lt;value&gt;</b></dt>
<dd>

<p>Figure in projection coordinates (rectangle or line) to be covered by the map (<b>proj</b> maps). Figure can be a rectangle written as <code>[x,y,w,h]</code>, or a line, <code>[[x1,y1],[x2,y2], ...]</code>, or a multi-segment line, <code>[&lt;line&gt;, &lt;line&gt;, ...]</code>.</p>

</dd>
<dt id="border-value"><b>--border &lt;value&gt;</b></dt>
<dd>

<p>Map border in projection coordinates (<b>proj</b> maps), a line or a multi-segment line.</p>

</dd>
<dt id="coords_wgs-value"><b>--coords_wgs &lt;value&gt;</b></dt>
<dd>

<p>Figure in wgs84 coordinates to be covered by the map (<b>google_tile</b>, <b>tms_tile</b>, or <b>proj</b> maps).</p>

</dd>
<dt id="border_wgs-value"><b>--border_wgs &lt;value&gt;</b></dt>
<dd>

<p>Map border in wgs84 coordinates (<b>google_tile</b>, <b>tms_tile</b>, or <b>proj</b> maps).</p>

</dd>
<dt id="proj-value"><b>--proj &lt;value&gt;</b></dt>
<dd>

<p>Projection setting (for <b>proj</b> maps), <b>libproj</b> parameter string (e.g. <i>+datum=WGS84 +proj=lonlat</i>) or mapsoft2 alias (<b>WGS</b>, <b>WEB</b>, <b>FI</b>, <b>CH</b>, <b>SU39</b>, etc.). Default is <b>WGS</b>.</p>

</dd>
<dt id="scale-value"><b>--scale &lt;value&gt;</b></dt>
<dd>

<p>Map scale (for <b>proj</b> maps), projection units per map cm (<b>proj</b> maps). Default value is 0.01 degree/cm for degree projections, 1000m/cm for metric projections.</p>

</dd>
</dl>

<h2 id="Options-for-drawing-tracks">Options for drawing tracks:</h2>

<dl>

<dt id="trk_draw_mode-arg"><b>--trk_draw_mode &lt;arg&gt;</b></dt>
<dd>

<p>track drawing mode (normal, speed, height)</p>

</dd>
<dt id="trk_draw_th-arg"><b>--trk_draw_th &lt;arg&gt;</b></dt>
<dd>

<p>line thickness, overrides track setting</p>

</dd>
<dt id="trk_draw_color-arg"><b>--trk_draw_color &lt;arg&gt;</b></dt>
<dd>

<p>color (for normal drawing mode), overrides track color</p>

</dd>
<dt id="trk_draw_dots-arg"><b>--trk_draw_dots &lt;arg&gt;</b></dt>
<dd>

<p>draw dots (for normal drawing mode), default: 1</p>

</dd>
<dt id="trk_draw_arrows-arg"><b>--trk_draw_arrows &lt;arg&gt;</b></dt>
<dd>

<p>draw arrows (for normal drawing mode), default: 0</p>

</dd>
<dt id="trk_draw_min-arg"><b>--trk_draw_min &lt;arg&gt;</b></dt>
<dd>

<p>min value (km/h for speed mode, m for height mode)</p>

</dd>
<dt id="trk_draw_max-arg"><b>--trk_draw_max &lt;arg&gt;</b></dt>
<dd>

<p>max value (km/h for speed mode, m for height mode)</p>

</dd>
<dt id="trk_draw_grad-arg"><b>--trk_draw_grad &lt;arg&gt;</b></dt>
<dd>

<p>color gradient (for speed or height modes), default: BCGYRM</p>

</dd>
</dl>

<h2 id="Options-for-drawing-waypoints">Options for drawing waypoints:</h2>

<dl>

<dt id="wpt_text_font-arg"><b>--wpt_text_font &lt;arg&gt;</b></dt>
<dd>

<p>waypoint font (default: &quot;serif&quot;)</p>

</dd>
<dt id="wpt_text_size-arg"><b>--wpt_text_size &lt;arg&gt;</b></dt>
<dd>

<p>waypoint font size, pixels (default: 10)</p>

</dd>
<dt id="wpt_text_pad-arg"><b>--wpt_text_pad &lt;arg&gt;</b></dt>
<dd>

<p>waypoint text padding, pixels (default: 2)</p>

</dd>
<dt id="wpt_draw_size-arg"><b>--wpt_draw_size &lt;arg&gt;</b></dt>
<dd>

<p>waypoint dot radius, pixels (default: 3)</p>

</dd>
<dt id="wpt_line_width-arg"><b>--wpt_line_width &lt;arg&gt;</b></dt>
<dd>

<p>waypoint line width, (default: 1)</p>

</dd>
<dt id="wpt_stick_len-arg"><b>--wpt_stick_len &lt;arg&gt;</b></dt>
<dd>

<p>length of waypoint flag stick (default: 10)</p>

</dd>
<dt id="wpt_color-arg"><b>--wpt_color &lt;arg&gt;</b></dt>
<dd>

<p>waypoint color (default: 0xFF000000)</p>

</dd>
<dt id="wpt_bgcolor-arg"><b>--wpt_bgcolor &lt;arg&gt;</b></dt>
<dd>

<p>waypoint background color (default: 0xFFFFFFFF)</p>

</dd>
<dt id="wpt_adj-arg"><b>--wpt_adj &lt;arg&gt;</b></dt>
<dd>

<p>adjust waypoint flag positions to prevent collisions (default: 1)</p>

</dd>
<dt id="wpt_adj_brd-arg"><b>--wpt_adj_brd &lt;arg&gt;</b></dt>
<dd>

<p>adjust waypoint flag positions to prevent boundary collisions (default: 0)</p>

</dd>
<dt id="wpt_skip_far-arg"><b>--wpt_skip_far &lt;arg&gt;</b></dt>
<dd>

<p>skip points if their labels can not be placed close enough (default: 5*wpt_stick_len)</p>

</dd>
</dl>

<h2 id="Options-for-drawing-maps">Options for drawing maps:</h2>

<dl>

<dt id="map_smooth-arg"><b>--map_smooth &lt;arg&gt;</b></dt>
<dd>

<p>Smooth map drawing (interpolation for small scales, averaging for large ones), default 0</p>

</dd>
<dt id="map_clip_brd-arg"><b>--map_clip_brd &lt;arg&gt;</b></dt>
<dd>

<p>Clip map to its border (default 1)</p>

</dd>
<dt id="map_draw_refs-arg"><b>--map_draw_refs &lt;arg&gt;</b></dt>
<dd>

<p>Draw map reference points (ARGB color, default 0)</p>

</dd>
<dt id="map_draw_brd-arg"><b>--map_draw_brd &lt;arg&gt;</b></dt>
<dd>

<p>Draw map border (ARGB color, default 0)</p>

</dd>
<dt id="map_fade-arg"><b>--map_fade &lt;arg&gt;</b></dt>
<dd>

<p>Fade the map (0..100, default is 0, no fading)</p>

</dd>
</dl>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Vladislav Zavjalov &lt;slazav@altlinux.org&gt;</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<ul>

<li><p><a href="http://slazav.github.io/mapsoft2">Mapsoft2 documentation (ru, en)</a></p>

</li>
<li><p><a href="http://github.com/slazav/mapsoft2">Mapsoft2 source code, bugtracker</a></p>

</li>
<li><p><a href="http://github.com/ushakov/mapsoft">Old Mapsoft project</a></p>

</li>
</ul>


</body>

</html>


